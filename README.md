# Auth Service - Dev Talk

## Описание
dt-auth — это микросервис аутентификации и авторизации для сервиса публикации статей **Dev Talk**. Данный микросервис отвечает за регистрацию пользователей, аутентификацию, управление учетными записями и выдачу токенов доступа. Реализован с использованием FastAPI, MySQL, Redis (для кэширования сессий), и Kafka для обмена сообщениями с другими микросервисами.

## Файловая структура микросервиса

```
dev-talk-auth/
├── src/
│   ├── router.py               # Маршруты для аутентификации
│   ├── schemas.py              # Pydantic-схемы (например, UserCreate, Token)
│   ├── service.py              # Бизнес-логика для управления пользователями
│   ├── models.sql              # Описание моделей данных (таблицы базы данных)
│   ├── dependencies.py         # Зависимости для проверок токенов и прав доступа
│   ├── config.py               # Конфигурации микросервиса
│   ├── exceptions.py           # Обработка исключений
│   ├── kafka_producer.py       # Продюсер Kafka
│   ├── redis_cache.py          # Логика для работы с Redis
│   └── utils.py                # Утилиты
├── tests/
│   ├── test_auth.py            # Тесты для бизнес-логики и API
│   └── test_utils.py           # Тесты для вспомогательных функций
├── Dockerfile                  # Docker-конфигурация для микросервиса
├── main.py                     # Точка входа для FastAPI
├── requirements.txt            # Зависимости Python
└── .env                        # Переменные окружения
```

## Функциональность

### CRUD операции для пользователей:

- POST `/api/auth/register` — регистрация нового пользователя
- POST `/api/auth/login` — аутентификация (логин) пользователя
- GET `/api/auth/user/{id}` — получение данных профиля пользователя
- PUT `/api/auth/user/{id}` — обновление данных профиля пользователя
- DELETE `/api/auth/user/{id}` — удаление учетной записи пользователя

## Стек технологий

- **FastAPI** — для создания REST API.
- **Redis** — для кэширования популярных комментариев.
- **Kafka** — для обмена сообщениями между микросервисами.
- **Docker** — для контейнеризации приложения.
- **MySQL** — в качестве основной базы данных.